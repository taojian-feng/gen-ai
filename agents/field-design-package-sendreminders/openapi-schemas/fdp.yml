{
  "openapi": "3.0.0",
  "info": {
    "title": "Field Design Package Automation API",
    "version": "1.0.0",
    "description": "APIs for managing field design packages by pulling list of open fdps, identifying outstanding paperwork for each fdp, identifying all fdp details, and sending reminders to fdp owners."
  },
  "paths": {
    "/fdps": {
      "get": {
        "summary": "Gets the list of all open fdps",
        "description": "Gets the list of all open fdps. Returns all fdpIds that are open.",
        "operationId": "getAllOpenfdps",
        "responses": {
          "200": {
            "description": "Gets the list of all open fdps",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "fdpId": {
                        "type": "string",
                        "description": "Unique ID of the fdp."
                      },
                      "facEngrId": {
                        "type": "string",
                        "description": "Unique ID of the facility engineer who has filed the fdp."
                      },
                      "claimStatus": {
                        "type": "string",
                        "description": "The status of the fdp. fdp can be in Open or Closed state."
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/fdps/{fdpId}/outstanding-document": {
      "get": {
        "summary": "Gets outstanding documents for a specific fdp",
        "description": "Gets the list of pending documents that needs to be uploaded by fdp owner before the fdp can be processed. The API takes in only one fdp id and returns the list of documents that are pending to be uploaded. This API should be called for each fdp id.",
        "operationId": "getOutstandingDocument",
        "parameters": [
          {
            "name": "fdpId",
            "in": "path",
            "description": "Unique ID of the open fdp",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of documents that are pending to be uploaded by facility engineer for fdp",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "pendingDocuments": {
                      "type": "string",
                      "description": "The list of pending documents for the fdp."
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/fdps/{fdpId}/detail": {
      "get": {
        "summary": "Gets all details about a specific fdp",
        "description": "Gets all details about a specific fdp given a fdp id.",
        "operationId": "getfdpDetail",
        "parameters": [
          {
            "name": "fdpId",
            "in": "path",
            "description": "Unique ID of the open fdp",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Details of the fdp",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "fdpId": {
                      "type": "string",
                      "description": "Unique identifier for the fdp."
                    },
                    "createdDate": {
                      "type": "string",
                      "description": "Date the fdp was created."
                    },
                    "lastActivityDate": {
                      "type": "string",
                      "description": "Date of last activity."
                    },
                    "status": {
                      "type": "string",
                      "description": "fdp status. One of: Open, Completed."
                    },
                    "policyType": {
                      "type": "string",
                      "description": "Damage type. One of: Corrosion, Valve , Pump."
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/send-reminder": {
      "post": {
        "summary": "API to send reminder to the facility engineer about pending documents for the open fdp",
        "description": "Send reminder to the facility engineer about pending documents for the open fdp. The API takes in only one fdp id and its pending documents at a time, sends the reminder and returns the tracking details for the reminder. This API should be called for each fdp id you want to send reminders.",
        "operationId": "sendReminder",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "fdpId": {
                    "type": "string",
                    "description": "Unique ID of open fdps to send reminders."
                  },
                  "pendingDocuments": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "pendingDocument": {
                          "type": "string",
                          "description": "name of the pending document in the fdp"
                        },
                        "DocumentRequirements": {
                          "type": "string",
                          "description": "the requirements of the pending document in the fdp"
                        }
                      }
                    },
                    "description": "List of object containing the pending documents id as key and their requirements as value"
                  }
                },
                "required": [
                  "fdpId",
                  "pendingDocuments"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Reminders sent successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "sendReminderTrackingId": {
                      "type": "string",
                      "description": "Unique Id to track the status of the send reminder call"
                    },
                    "sendReminderStatus": {
                      "type": "string",
                      "description": "Status of send reminder notifications"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad request. One or more required fields are missing or invalid."
          }
        }
      }
    }
  }
}
